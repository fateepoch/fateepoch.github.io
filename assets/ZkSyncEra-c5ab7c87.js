var ce=Object.defineProperty;var ue=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ht=(e,t,n)=>(ue(e,typeof t!="symbol"?t+"":t,n),n),gt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var l=(e,t,n)=>(gt(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ut=(e,t,n,r)=>(gt(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var y=(e,t,n)=>(gt(e,t,"access private method"),n);import{a as J}from"./axios-4a70c6fc.js";import{a as m,A as de,_ as fe,r as M,s as Rt,w as Ot,o as _,c as x,b as h,u as E,v as yt,F as N,d as me,M as pe,f as z,e as he,t as S,g as C,x as B,h as G,y as ge,B as ye,l as _e,z as ke,C as we,D as be,E as xe,G as ve,I as Ie,H as Ee,J as Ne,T as Se,K as Te,L as Ce,n as Ae,N as ze,q as Ue,p as Fe}from"./index-a10b3923.js";var Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"};const Le=Be;function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){Re(e,a,n[a])})}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nt=function(t,n){var r=$t({},t,n.attrs);return m(de,$t({},r,{icon:Le}),null)};Nt.displayName="BookOutlined";Nt.inheritAttrs=!1;const Oe=Nt,$e=async()=>{try{return(await J.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]})).data.result}catch(e){return console.log(e),0}},De=async e=>{let t=`https://block-explorer-api.mainnet.zksync.io/address/${e}/transfers?limit=100&page=1`;const n=[];for(;;)try{const r=await J.get(t);if(r.status===200){const a=r.data.items;if(n.push(...a),r.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+r.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(r){console.error("Error occurred while making the request:",r);break}return n},Me=async e=>{const t=await J.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]}),n={USDC:1,USDT:1,ZKUSD:1,CEBUSD:1,LUSD:1,ETH:parseInt(t.data.result)};e.forEach(r=>{r.transfers.forEach(a=>{a.token.price=n[a.token.symbol.toUpperCase()]}),r.transfers=r.transfers.filter(a=>a.token.price!==void 0)})},Ve=async e=>{let t=`https://block-explorer-api.mainnet.zksync.io/transactions?address=${e}&limit=100&page=1`;const n=[],r=await $e();for(;;)try{const s=await J.get(t);if(s.status===200){if(s.data.items.forEach(f=>{const{hash:b,to:A,from:D,data:w,isL1Originated:dt,fee:lt,receivedAt:j,value:ft}=f;n.push({hash:b,to:A,from:D,data:w,isL1Originated:dt,fee:lt,receivedAt:j,transfers:[],ethValue:parseInt(r),value:ft})}),s.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+s.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(s){console.error("Error occurred while making the request:",s);break}return(await De(e)).forEach(s=>{s.token!==null&&n.forEach(c=>{c.hash===s.transactionHash&&c.transfers.push(s)})}),await Me(n),n},Pe=async e=>{let t=0;return e.forEach(n=>{const r=parseInt(n.fee,16)*1e-18*n.ethValue;t+=r}),t.toFixed(2)},je=e=>{let t=0;return e.forEach(n=>{const r=n.transfers.sort((s,c)=>parseInt(c.amount)*10**-c.token.decimals*c.token.price-parseInt(s.amount)*10**-s.token.decimals*s.token.price);if(r.length===0)return;const a=parseInt(r[0].amount)*10**-r[0].token.decimals*r[0].token.price;t+=a}),t.toFixed(2)},Ke=e=>{const t=e.getFullYear(),n=new Date(t,0,1),r=(e.getDay()+6)%7,a=Math.floor((e.getTime()-n.getTime())/864e5),s=Math.floor((a+n.getDay()-r)/7);return`${t}-${s}`},Je=(e,t)=>{const n=new Set,r=new Set,a=new Set,s=new Set;return t.forEach(c=>{if(c.from.toLowerCase()!==e.toLowerCase())return;const f=new Date(c.receivedAt),b=f.getFullYear(),A=f.getMonth(),D=f.getDate(),w=Ke(f);n.add(`${b}-${A}-${D}`),r.add(`${b}-${w}`),a.add(`${b}-${A}`),s.add(c.to)}),{day:n.size,week:r.size,month:a.size,contract:s.size}},Ze=async(e,t)=>{if(t.length===0)return{day:0,week:0,month:0,contract:0,lastTx:null};const{day:n,week:r,month:a,contract:s}=Je(e,t),c=t[0].receivedAt?new Date(t[0].receivedAt).getTime():null;return{day:n,week:r,month:a,contract:s,lastTx:c}};async function qe(e){try{let t="https://block-explorer-api.mainnet.zksync.io/address/"+e;const n=await J.get(t);let r,a,s;return"0x000000000000000000000000000000000000800A"in n.data.balances?(a=n.data.balances["0x000000000000000000000000000000000000800A"].balance,a=(Number(a)/10**18).toFixed(3)):a=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in n.data.balances?(s=n.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,s=(Number(s)/10**6).toFixed(2)):s=0,r=n.data.sealedNonce,{balance:a,tx:r,usdc:s}}catch(t){return console.error(t),{balance:"-",tx:"-",usdc:"-"}}}const He={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function Ge(e,t){try{let n=He[t];if(!n)return"Error: Invalid Network Name";let a=(await J.post(n,{jsonrpc:"2.0",method:"eth_getBalance",params:[e,"latest"],id:1})).data.result;return(parseInt(a,16)/10**18).toFixed(3)}catch(n){return console.error(n),"Error"}}const Xe={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function We(e,t){try{let n=Xe[t];if(!n)return"Error: Invalid Network Name";const a=(await J.post(n,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[e,"latest"],id:1})).data.result;return parseInt(a,16)}catch(n){return console.error(n),"Error"}}const Ye="6.7.1";function Qe(e,t,n){const r=t.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const a=new Error(`invalid value for type ${t}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${n}`,a.value=e,a}function Pt(e,t,n){for(let r in t){let a=t[r];const s=n?n[r]:null;s&&Qe(a,s,r),Object.defineProperty(e,r,{enumerable:!0,value:a,writable:!1})}}function W(e){if(e==null)return"null";if(Array.isArray(e))return"[ "+e.map(W).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[e[r]&15];return n}if(typeof e=="object"&&typeof e.toJSON=="function")return W(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"number":return e.toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map(n=>`${W(n)}: ${W(e[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function tn(e,t,n){{const a=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${W(n)}`);for(const s in n){const c=n[s];a.push(s+"="+W(c))}}a.push(`code=${t}`),a.push(`version=${Ye}`),a.length&&(e+=" ("+a.join(", ")+")")}let r;switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return Pt(r,{code:t}),n&&Object.assign(r,n),r}function U(e,t,n,r){if(!e)throw tn(t,n,r)}function v(e,t,n,r){U(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const n=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(n!==r)throw new Error("broken")}e.push(t)}catch{}return e},[]);function en(e,t,n){if(n==null&&(n=""),e!==t){let r=n,a="new";n&&(r+=".",a+=" "+n),U(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function nn(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((e.length-2)/2);let a=2;for(let s=0;s<r.length;s++)r[s]=parseInt(e.substring(a,a+2),16),a+=2;return r}v(!1,"invalid BytesLike value",t||"value",e)}function rn(e,t){return nn(e,t,!1)}const jt=BigInt(0),Y=BigInt(1),Q=9007199254740991;function wt(e,t){const n=Kt(e,"value"),r=BigInt(it(t,"width"));if(U(n>>r===jt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Y){const a=(Y<<r)-Y;return-((~n&a)+Y)}return n}function Dt(e,t){const n=Kt(e,"value"),r=BigInt(it(t,"bits"));return n&(Y<<r)-Y}function St(e,t){switch(typeof e){case"bigint":return e;case"number":return v(Number.isInteger(e),"underflow",t||"value",e),v(e>=-Q&&e<=Q,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(n){v(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}v(!1,"invalid BigNumberish value",t||"value",e)}function Kt(e,t){const n=St(e,t);return U(n>=jt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Mt="0123456789abcdef";function an(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Mt[n>>4],t+=Mt[n&15];return BigInt(t)}return St(e)}function it(e,t){switch(typeof e){case"bigint":return v(e>=-Q&&e<=Q,"overflow",t||"value",e),Number(e);case"number":return v(Number.isInteger(e),"underflow",t||"value",e),v(e>=-Q&&e<=Q,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return it(BigInt(e),t)}catch(n){v(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}v(!1,"invalid numeric value",t||"value",e)}const sn=BigInt(-1),L=BigInt(0),tt=BigInt(1),on=BigInt(5),X={};let et="0000";for(;et.length<80;)et+=et;function Z(e){let t=et;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function nt(e,t,n){const r=BigInt(t.width);if(t.signed){const a=tt<<r-tt;U(n==null||e>=-a&&e<a,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e>L?e=wt(Dt(e,r),r):e=-wt(Dt(-e,r),r)}else{const a=tt<<r;U(n==null||e>=0&&e<a,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%a+a)%a&a-tt}return e}function _t(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);v(s,"invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(e){const s=e,c=(f,b,A)=>s[f]==null?A:(v(typeof s[f]===b,"invalid fixed format ("+f+" not "+b+")","format."+f,s[f]),s[f]);t=c("signed","boolean",t),n=c("width","number",n),r=c("decimals","number",r)}v(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),v(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const a=(t?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:t,width:n,decimals:r,name:a}}function ln(e,t){let n="";e<L&&(n="-",e*=sn);let r=e.toString();if(t===0)return n+r;for(;r.length<=t;)r=et+r;const a=r.length-t;for(r=r.substring(0,a)+"."+r.substring(a);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var R,g,T,P,q,O,V,rt,xt,at,vt,st,It,ot,Et;const K=class K{constructor(t,n,r){$(this,P);$(this,O);$(this,rt);$(this,at);$(this,st);$(this,ot);ht(this,"format");$(this,R,void 0);$(this,g,void 0);$(this,T,void 0);ht(this,"_value");en(t,X,"FixedNumber"),ut(this,g,n),ut(this,R,r);const a=ln(n,r.decimals);Pt(this,{format:r.name,_value:a}),ut(this,T,Z(r.decimals))}get signed(){return l(this,R).signed}get width(){return l(this,R).width}get decimals(){return l(this,R).decimals}get value(){return l(this,g)}addUnsafe(t){return y(this,rt,xt).call(this,t)}add(t){return y(this,rt,xt).call(this,t,"add")}subUnsafe(t){return y(this,at,vt).call(this,t)}sub(t){return y(this,at,vt).call(this,t,"sub")}mulUnsafe(t){return y(this,st,It).call(this,t)}mul(t){return y(this,st,It).call(this,t,"mul")}mulSignal(t){y(this,P,q).call(this,t);const n=l(this,g)*l(t,g);return U(n%l(this,T)===L,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),y(this,O,V).call(this,n/l(this,T),"mulSignal")}divUnsafe(t){return y(this,ot,Et).call(this,t)}div(t){return y(this,ot,Et).call(this,t,"div")}divSignal(t){U(l(t,g)!==L,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),y(this,P,q).call(this,t);const n=l(this,g)*l(this,T);return U(n%l(t,g)===L,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),y(this,O,V).call(this,n/l(t,g),"divSignal")}cmp(t){let n=this.value,r=t.value;const a=this.decimals-t.decimals;return a>0?r*=Z(a):a<0&&(n*=Z(-a)),n<r?-1:n>r?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=l(this,g);return l(this,g)<L&&(t-=l(this,T)-tt),t=l(this,g)/l(this,T)*l(this,T),y(this,O,V).call(this,t,"floor")}ceiling(){let t=l(this,g);return l(this,g)>L&&(t+=l(this,T)-tt),t=l(this,g)/l(this,T)*l(this,T),y(this,O,V).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const n=this.decimals-t,r=on*Z(n-1);let a=this.value+r;const s=Z(n);return a=a/s*s,nt(a,l(this,R),"round"),new K(X,a,l(this,R))}isZero(){return l(this,g)===L}isNegative(){return l(this,g)<L}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return K.fromString(this.toString(),t)}static fromValue(t,n,r){const a=n==null?0:it(n),s=_t(r);let c=St(t,"value");const f=a-s.decimals;if(f>0){const b=Z(f);U(c%b===L,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),c/=b}else f<0&&(c*=Z(-f));return nt(c,s,"fromValue"),new K(X,c,s)}static fromString(t,n){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);v(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const a=_t(n);let s=r[2]||"0",c=r[3]||"";for(;c.length<a.decimals;)c+=et;U(c.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),c=c.substring(0,a.decimals);const f=BigInt(r[1]+s+c);return nt(f,a,"fromString"),new K(X,f,a)}static fromBytes(t,n){let r=an(rn(t,"value"));const a=_t(n);return a.signed&&(r=wt(r,a.width)),nt(r,a,"fromBytes"),new K(X,r,a)}};R=new WeakMap,g=new WeakMap,T=new WeakMap,P=new WeakSet,q=function(t){v(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},O=new WeakSet,V=function(t,n){return t=nt(t,l(this,R),n),new K(X,t,l(this,R))},rt=new WeakSet,xt=function(t,n){return y(this,P,q).call(this,t),y(this,O,V).call(this,l(this,g)+l(t,g),n)},at=new WeakSet,vt=function(t,n){return y(this,P,q).call(this,t),y(this,O,V).call(this,l(this,g)-l(t,g),n)},st=new WeakSet,It=function(t,n){return y(this,P,q).call(this,t),y(this,O,V).call(this,l(this,g)*l(t,g)/l(this,T),n)},ot=new WeakSet,Et=function(t,n){return U(l(t,g)!==L,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),y(this,P,q).call(this,t),y(this,O,V).call(this,l(this,g)*l(this,T)/l(t,g),n)};let bt=K;const cn=["wei","kwei","mwei","gwei","szabo","finney","ether"];function un(e,t){let n=18;if(typeof t=="string"){const r=cn.indexOf(t);v(r>=0,"invalid unit","unit",t),n=3*r}else t!=null&&(n=it(t,"unit"));return bt.fromValue(e,n,{decimals:n,width:512}).toString()}function Vt(e){return un(e,18)}const dn=(e,t)=>{let n=0,r=0,a=0,s=0;return e.forEach(c=>{const f=c.from,b=c.to,A=c.isL1Originated;if(f.toLowerCase()===t.toLowerCase()){if(A){n++;const D=Vt(c.value);r+=parseFloat(D)}if(b.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){a++;const D=Vt(c.value);s+=parseFloat(D)}}}),{l1Tol2Count:n,l1Tol2Amount:r.toFixed(3),l2Tol1Count:a,l2Tol1Amount:s.toFixed(3)}},fn=async e=>{let t=`https://mp.trustalabs.ai/zksyncera/score?account=${e}&chainId=324`,n,r,a;const s=await J.get(t);return s.data.code==0&&(n=s.data.data.score,r=s.data.data.rank,a=s.data.data.rankValue.total),{score:n,rank:r,total:a}},mn=async e=>{const t=await Ve(e),n=await Pe(t),r=je(t),a=await Ze(e,t),s=await qe(e),c=await Ge(e,"ethereum"),f=await We(e,"ethereum"),b=dn(t,e),A=await fn(e);return{fee:n,amount:r,activity:a,zkSyncEra:s,ethereum:{balance:c,tx:f},bridge:b,rank:A}};function kt(e,t,n){let r;if(n==="descend"&&(r=e,e=t,t=r),e==null)return 1;if(t==null)return-1;if(n==="ascend")return e-t;if(n==="descend")return t-e;throw new Error("invalid sort order")}const pn=e=>{const t=(new Date().getTime()-e)/1e3;if(t<60)return t+"秒前";const n=t/60;if(n<60)return Math.floor(n)+"分前";const r=n/60;if(r<24)return Math.floor(r)+"小时前";const a=r/24;return Math.floor(a)+"天前"};const hn={key:0},gn=["onClick"],yn={style:{color:"blueviolet"}},_n={style:{color:"blueviolet"}},kn={__name:"ZkSyncEra",setup(e){let t=M(!1),n=M("");async function r(o){a(o,{key:o,address:o,status:"loading"});try{let i=await mn(o);a(o,{...i,key:o,address:o,status:"success"})}catch(i){console.log(i),a(o,{key:o,address:o,status:"fail"})}}function a(o,i){let d=w.value.map(p=>p.address).indexOf(o);w.value[d]=i}const s=/^0x[a-fA-F0-9]{40}$/;function c(){if(n.value.trim()!=""){let o=n.value.split(`
`);const i=w.value.map(d=>d.address);for(let d of o)s.test(d.trim())&&i.indexOf(d)==-1&&(w.value.push({key:d,address:d}),r(d))}n.value="",t.value=!1}const f=M({selectedRowKeys:[]}),b=Rt(()=>({selectedRowKeys:f.value.selectedRowKeys,onChange:(o,i)=>{f.value.selectedRowKeys=o}}));function A(){if(f.value.selectedRowKeys.length>0){for(let o of f.value.selectedRowKeys)r(o);f.value.selectedRowKeys=[]}}function D(){if(f.value.selectedRowKeys.length>0){for(let o of f.value.selectedRowKeys){let i=w.value.map(d=>d.address).indexOf(o);i!=-1&&w.value.splice(i,1)}f.value.selectedRowKeys=[]}}const w=M([]),dt=Rt(()=>w.value.map(i=>i.fee?parseFloat(i.fee):0).reduce((i,d)=>i+d,0).toFixed(2)),lt={def:"默认",g1:"组1",g2:"组2"};let j=M();Ot(w,()=>{if(j.value){const o=`zksync-info-${j.value}`;localStorage.setItem(o,JSON.stringify(w.value))}},{deep:!0});function ft(o){j.value=o;const i=`zksync-info-${o}`;let d=localStorage.getItem(i);w.value=d?JSON.parse(d):[]}M(null);const Jt=M([{title:"#",dataIndex:"no",align:"center",width:"50px"},{title:"备注",dataIndex:"remark",align:"center",width:"120px"},{title:"地址",dataIndex:"address",align:"center",width:"120px"},{title:"ETH",dataIndex:["zkSyncEra","balance"],key:"zkSyncBalance",align:"center",className:"zks_era",width:"100px"},{title:"USDC",dataIndex:["zkSyncEra","usdc"],align:"center",className:"zks_era",width:"100px"},{title:"TX",dataIndex:["zkSyncEra","tx"],align:"center",className:"zks_era",width:"50px",sorter:(o,i)=>{var d,p;return((d=o.zkSyncEra)==null?void 0:d.tx)-((p=i.zkSyncEra)==null?void 0:p.tx)}},{title:"最后交易",dataIndex:["activity","lastTx"],key:"lastTx",align:"center",className:"zks_era",sorter:(o,i,d)=>{var p,I;return kt((p=o.activity)==null?void 0:p.lastTx,(I=i.activity)==null?void 0:I.lastTx,d)}},{title:"TX(L1->L2)",dataIndex:["bridge","l1Tol2Count"],key:"bridgeL1ToL2Count",align:"center",className:"zks_era"},{title:"金额E(L1->L2)",dataIndex:["bridge","l1Tol2Amount"],align:"center",className:"zks_era"},{title:"日",dataIndex:["activity","day"],align:"center",className:"zks_era",width:"50px",sorter:(o,i)=>{var d,p;return((d=o.activity)==null?void 0:d.day)-((p=i.activity)==null?void 0:p.day)}},{title:"周",dataIndex:["activity","week"],align:"center",className:"zks_era",width:"50px",sorter:(o,i)=>{var d,p;return((d=o.activity)==null?void 0:d.week)-((p=i.activity)==null?void 0:p.week)}},{title:"月",dataIndex:["activity","month"],align:"center",className:"zks_era",width:"50px",sorter:(o,i)=>{var d,p;return((d=o.activity)==null?void 0:d.month)-((p=i.activity)==null?void 0:p.month)}},{title:"合约",dataIndex:["activity","contract"],align:"center",className:"zks_era",width:"70px",sorter:(o,i)=>{var d,p;return((d=o.activity)==null?void 0:d.contract)-((p=i.activity)==null?void 0:p.contract)}},{title:"金额(U)",dataIndex:"amount",align:"center",className:"zks_era",sorter:(o,i)=>o.amount-i.amount},{title:"Fee(U)",dataIndex:"fee",align:"center",className:"zks_era",sorter:(o,i)=>o.fee-i.fee},{title:"评分",dataIndex:"score",align:"center",className:"zks_era",sorter:(o,i,d)=>{var p,I;return kt((p=o.rank)==null?void 0:p.score,(I=i.rank)==null?void 0:I.score,d)}},{title:"排名",dataIndex:"rank",align:"center",className:"zks_era",sorter:(o,i,d)=>{var p,I;return kt((p=o.rank)==null?void 0:p.rank,(I=i.rank)==null?void 0:I.rank,d)}},{title:"状态",dataIndex:"result",align:"center",width:"50px"},{title:"操作",dataIndex:"action",align:"center",width:"80px"}]),H=M({});Zt();function Zt(){const o=localStorage.getItem("zksync-remark");o&&(H.value=JSON.parse(o))}Ot(H,()=>{localStorage.setItem("zksync-remark",JSON.stringify(H.value))},{deep:!0});const mt=M({});function qt(o){mt.value[o]=!0}function Ht(o){delete mt.value[o]}return(o,i)=>{const d=ge,p=ye,I=_e,Tt=ke,ct=me,Gt=Oe,Xt=ze,Wt=we,Yt=be,Qt=xe,te=ve,ee=pe,ne=Ie,Ct=Ee,re=Ue,ae=Fe,se=Ne,pt=Se,oe=Te,ie=Ce,le=Ae;return _(),x(N,null,[m(ct,null,{default:h(()=>[m(I,{span:22,offset:1,class:"tool-bar"},{default:h(()=>[m(ct,{gutter:16},{default:h(()=>[m(I,null,{default:h(()=>[m(p,{type:"primary",onClick:A},{icon:h(()=>[m(d)]),default:h(()=>[z(" 刷新 ")]),_:1})]),_:1}),m(I,null,{default:h(()=>[m(p,{type:"primary",danger:"",onClick:D},{icon:h(()=>[m(Tt)]),default:h(()=>[z(" 删除 ")]),_:1})]),_:1})]),_:1}),m(ct,{gutter:16},{default:h(()=>[m(I,null,{default:h(()=>[m(Qt,{type:"primary",class:"ant-btn-primary"},{overlay:h(()=>[m(Wt,{onClick:i[0]||(i[0]=({key:k})=>ft(k))},{default:h(()=>[(_(),x(N,null,he(lt,(k,u)=>m(Xt,{key:u},{default:h(()=>[m(Gt),z(" "+S(k),1)]),_:2},1024)),64))]),_:1})]),default:h(()=>[m(p,null,{default:h(()=>[z(S(E(j)?"当前数据组: "+lt[E(j)]:"加载本地数据")+" ",1),m(Yt)]),_:1})]),_:1})]),_:1}),m(I,null,{default:h(()=>[m(p,{type:"primary",onClick:i[1]||(i[1]=k=>yt(t)?t.value=!0:t=!0),disabled:!E(j)},{default:h(()=>[z(" 添加地址 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),m(ee,{open:E(t),"onUpdate:open":i[3]||(i[3]=k=>yt(t)?t.value=k:t=k),title:"地址",style:{top:"100px"},"ok-text":"确定","cancel-text":"取消",onOk:c},{default:h(()=>[m(te,{value:E(n),"onUpdate:value":i[2]||(i[2]=k=>yt(n)?n.value=k:n=k),placeholder:"每行一个地址",rows:6},null,8,["value"])]),_:1},8,["open"]),m(ct,{style:{"margin-top":"10px"}},{default:h(()=>[m(I,{span:22,offset:1},{default:h(()=>[m(le,{columns:E(Jt),"data-source":E(w),pagination:!1,bordered:"","row-selection":b.value,size:"small",sticky:""},{bodyCell:h(({column:k,record:u,index:At})=>{var zt,Ut,Ft,Bt,Lt;return[k.dataIndex=="no"?(_(),x(N,{key:0},[z(S(At+1),1)],64)):C("",!0),k.dataIndex==="remark"?(_(),x(N,{key:1},[E(mt)[u.address]?(_(),x("div",hn,[m(ne,{size:"small",value:E(H)[u.address],"onUpdate:value":F=>E(H)[u.address]=F,onPressEnter:F=>Ht(u.address),placeholder:"备注,回车保存"},null,8,["value","onUpdate:value","onPressEnter"])])):(_(),x("div",{key:1,class:"remark-edit-cell",onClick:F=>qt(u.address)},[B("span",null,S(E(H)[u.address]||"无"),1)],8,gn))],64)):C("",!0),k.key=="lastTx"?(_(),x(N,{key:2},[z(S(u.activity?u.activity.lastTx?E(pn)(u.activity.lastTx):"无":""),1)],64)):C("",!0),k.key=="zkSyncBalance"?(_(),x(N,{key:3},[((zt=u==null?void 0:u.zkSyncEra)==null?void 0:zt.balance)>=0?(_(),G(Ct,{key:0,title:"ethereum",trigger:"hover"},{content:h(()=>[B("div",null,[B("span",null,"金额(E)   "+S(u.ethereum.balance),1)]),B("div",null,[B("span",null,"TX   "+S(u.ethereum.tx),1)])]),default:h(()=>{var F;return[B("span",yn,S((F=u==null?void 0:u.zkSyncEra)==null?void 0:F.balance),1)]}),_:2},1024)):C("",!0)],64)):C("",!0),k.key=="bridgeL1ToL2Count"?(_(),x(N,{key:4},[((Ut=u==null?void 0:u.bridge)==null?void 0:Ut.l1Tol2Count)>=0?(_(),G(Ct,{key:0,title:"L2->L1",trigger:"hover"},{content:h(()=>[B("div",null,[B("span",null,"金额(E)  "+S(u.bridge.l2Tol1Amount),1)]),B("div",null,[B("span",null,"TX  "+S(u.bridge.l2Tol1Count),1)])]),default:h(()=>{var F;return[B("span",_n,S((F=u==null?void 0:u.bridge)==null?void 0:F.l1Tol2Count),1)]}),_:2},1024)):C("",!0)],64)):C("",!0),k.dataIndex=="address"?(_(),x(N,{key:5},[z(S(u.address.toLowerCase().substring(0,4)+"****"+u.address.toLowerCase().substring(38,42)),1)],64)):C("",!0),k.dataIndex=="result"?(_(),x(N,{key:6},[u.status=="success"?(_(),G(re,{key:0,style:{color:"green"}})):u.status=="fail"?(_(),G(ae,{key:1,style:{color:"red"}})):(_(),G(se,{key:E(w).length,style:{color:"#1677ff"}}))],64)):C("",!0),k.dataIndex=="action"?(_(),x(N,{key:7},[m(p,{shape:"circle",size:"small",style:{"margin-right":"5px"},onClick:F=>r(u.address)},{icon:h(()=>[m(d)]),_:2},1032,["onClick"]),m(p,{shape:"circle",size:"small",onClick:F=>E(w).splice(At,1)},{icon:h(()=>[m(Tt)]),_:2},1032,["onClick"])],64)):C("",!0),k.dataIndex=="score"?(_(),x(N,{key:8},[z(S(u.rank?(Ft=u.rank)!=null&&Ft.score?u.rank.score.toFixed(2):"无":""),1)],64)):C("",!0),k.dataIndex=="rank"?(_(),x(N,{key:9},[u.rank?(_(),x(N,{key:0},[(Bt=u.rank)!=null&&Bt.rank&&((Lt=u.rank)!=null&&Lt.total)?(_(),x(N,{key:0},[z(S(u.rank.rank+"("+(u.rank.rank/u.rank.total).toFixed(2)*100+"%)"),1)],64)):(_(),x(N,{key:1},[z("无")],64))],64)):C("",!0)],64)):C("",!0)]}),summary:h(()=>[m(ie,{fixed:""},{default:h(()=>[E(w).length>0?(_(),G(oe,{key:0},{default:h(()=>[m(pt),m(pt,{"col-span":14}),m(pt,{style:{"text-align":"center"}},{default:h(()=>[z(S(dt.value),1)]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1},8,["columns","data-source","row-selection"])]),_:1})]),_:1})],64)}}},vn=fe(kn,[["__scopeId","data-v-da79e7ce"]]);export{vn as default};
