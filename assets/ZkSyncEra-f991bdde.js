var oe=Object.defineProperty;var ie=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _t=(e,t,n)=>(ie(e,typeof t!="symbol"?t+"":t,n),n),yt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var o=(e,t,n)=>(yt(e,t,"read from private field"),n?n.call(e):t.get(e)),L=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ft=(e,t,n,s)=>(yt(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);var h=(e,t,n)=>(yt(e,t,"access private method"),n);import{a as P}from"./axios-4a70c6fc.js";import{a as l,A as le,_ as ce,r as K,s as Bt,w as ue,o as y,c as I,b as c,u as R,v as wt,F as E,d as de,M as fe,f as N,e as me,t as S,g as T,h as G,x as A,y as pe,z as he,B as ge,l as _e,C as ye,D as we,E as ke,G as be,H as xe,J as ve,K as Ie,I as Ee,L as Lt,T as Ne,N as Se,O as Ce,n as Te,P as Ae,q as ze,p as Fe}from"./index-cfb11732.js";var Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"};const Be=Ue;function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),s.forEach(function(r){Le(e,r,n[r])})}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(t,n){var s=Rt({},t,n.attrs);return l(le,Rt({},s,{icon:Be}),null)};St.displayName="BookOutlined";St.inheritAttrs=!1;const Re=St,Oe=async()=>{try{return(await P.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]})).data.result}catch(e){return console.log(e),0}},$e=async e=>{let t=`https://block-explorer-api.mainnet.zksync.io/address/${e}/transfers?limit=100&page=1`;const n=[];for(;;)try{const s=await P.get(t);if(s.status===200){const r=s.data.items;if(n.push(...r),s.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+s.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(s){console.error("Error occurred while making the request:",s);break}return n},De=async e=>{const t=await P.post("https://mainnet.era.zksync.io/",{id:42,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["0x0000000000000000000000000000000000000000"]}),n={USDC:1,USDT:1,ZKUSD:1,CEBUSD:1,LUSD:1,ETH:parseInt(t.data.result)};e.forEach(s=>{s.transfers.forEach(r=>{r.token.price=n[r.token.symbol.toUpperCase()]}),s.transfers=s.transfers.filter(r=>r.token.price!==void 0)})},Me=async e=>{let t=`https://block-explorer-api.mainnet.zksync.io/transactions?address=${e}&limit=100&page=1`;const n=[],s=await Oe();for(;;)try{const a=await P.get(t);if(a.status===200){if(a.data.items.forEach(d=>{const{hash:k,to:C,from:O,data:w,isL1Originated:mt,fee:ct,receivedAt:M,value:pt}=d;n.push({hash:k,to:C,from:O,data:w,isL1Originated:mt,fee:ct,receivedAt:M,transfers:[],ethValue:parseInt(s),value:pt})}),a.data.links.next==="")break;t="https://block-explorer-api.mainnet.zksync.io/"+a.data.links.next}else{console.error("Error occurred while retrieving transactions.");break}}catch(a){console.error("Error occurred while making the request:",a);break}return(await $e(e)).forEach(a=>{a.token!==null&&n.forEach(i=>{i.hash===a.transactionHash&&i.transfers.push(a)})}),await De(n),n},Ve=async e=>{let t=0;return e.forEach(n=>{const s=parseInt(n.fee,16)*1e-18*n.ethValue;t+=s}),t.toFixed(2)},Pe=e=>{let t=0;return e.forEach(n=>{const s=n.transfers.sort((a,i)=>parseInt(i.amount)*10**-i.token.decimals*i.token.price-parseInt(a.amount)*10**-a.token.decimals*a.token.price);if(s.length===0)return;const r=parseInt(s[0].amount)*10**-s[0].token.decimals*s[0].token.price;t+=r}),t.toFixed(2)},je=e=>{const t=(new Date().getTime()-new Date(e).getTime())/1e3;if(t<60)return t+"秒前";const n=t/60;if(n<60)return Math.floor(n)+"分前";const s=n/60;if(s<24)return Math.floor(s)+"小时前";const r=s/24;return Math.floor(r)+"天前"},Ke=e=>{const t=e.getFullYear(),n=new Date(t,0,1),s=(e.getDay()+6)%7,r=Math.floor((e.getTime()-n.getTime())/864e5),a=Math.floor((r+n.getDay()-s)/7);return`${t}-${a}`},Ze=(e,t)=>{const n=new Set,s=new Set,r=new Set,a=new Set;return t.forEach(i=>{if(i.from.toLowerCase()!==e.toLowerCase())return;const d=new Date(i.receivedAt),k=d.getFullYear(),C=d.getMonth(),O=d.getDate(),w=Ke(d);n.add(`${k}-${C}-${O}`),s.add(`${k}-${w}`),r.add(`${k}-${C}`),a.add(i.to)}),{day:n.size,week:s.size,month:r.size,contract:a.size}},qe=async(e,t)=>{if(t.length===0)return{day:0,week:0,month:0,contract:0,lastTx:"无"};const{day:n,week:s,month:r,contract:a}=Ze(e,t),i=je(t[0].receivedAt)||"无";return{day:n,week:s,month:r,contract:a,lastTx:i}};async function He(e){try{let t="https://block-explorer-api.mainnet.zksync.io/address/"+e;const n=await P.get(t);let s,r,a;return"0x000000000000000000000000000000000000800A"in n.data.balances?(r=n.data.balances["0x000000000000000000000000000000000000800A"].balance,r=(Number(r)/10**18).toFixed(3)):r=0,"0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"in n.data.balances?(a=n.data.balances["0x3355df6D4c9C3035724Fd0e3914dE96A5a83aaf4"].balance,a=(Number(a)/10**6).toFixed(2)):a=0,s=n.data.sealedNonce,{balance:r,tx:s,usdc:a}}catch(t){return console.error(t),{balance:"-",tx:"-",usdc:"-"}}}const Je={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function Ge(e,t){try{let n=Je[t];if(!n)return"Error: Invalid Network Name";let r=(await P.post(n,{jsonrpc:"2.0",method:"eth_getBalance",params:[e,"latest"],id:1})).data.result;return(parseInt(r,16)/10**18).toFixed(3)}catch(n){return console.error(n),"Error"}}const Xe={ethereum:"https://cloudflare-eth.com",optimism:"https://optimism-mainnet.public.blastapi.io",arbitrum:"https://rpc.ankr.com/arbitrum",polygon:"https://polygon-bor.publicnode.com",bsc:"https://bscrpc.com"};async function We(e,t){try{let n=Xe[t];if(!n)return"Error: Invalid Network Name";const r=(await P.post(n,{jsonrpc:"2.0",method:"eth_getTransactionCount",params:[e,"latest"],id:1})).data.result;return parseInt(r,16)}catch(n){return console.error(n),"Error"}}const Ye="6.7.1";function Qe(e,t,n){const s=t.split("|").map(a=>a.trim());for(let a=0;a<s.length;a++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const r=new Error(`invalid value for type ${t}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${n}`,r.value=e,r}function Mt(e,t,n){for(let s in t){let r=t[s];const a=n?n[s]:null;a&&Qe(r,a,s),Object.defineProperty(e,s,{enumerable:!0,value:r,writable:!1})}}function W(e){if(e==null)return"null";if(Array.isArray(e))return"[ "+e.map(W).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let s=0;s<e.length;s++)n+=t[e[s]>>4],n+=t[e[s]&15];return n}if(typeof e=="object"&&typeof e.toJSON=="function")return W(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"number":return e.toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map(n=>`${W(n)}: ${W(e[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function tn(e,t,n){{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${W(n)}`);for(const a in n){const i=n[a];r.push(a+"="+W(i))}}r.push(`code=${t}`),r.push(`version=${Ye}`),r.length&&(e+=" ("+r.join(", ")+")")}let s;switch(t){case"INVALID_ARGUMENT":s=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(e);break;default:s=new Error(e)}return Mt(s,{code:t}),n&&Object.assign(s,n),s}function z(e,t,n,s){if(!e)throw tn(t,n,s)}function b(e,t,n,s){z(e,t,"INVALID_ARGUMENT",{argument:n,value:s})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const n=String.fromCharCode(233).normalize("NFD"),s=String.fromCharCode(101,769);if(n!==s)throw new Error("broken")}e.push(t)}catch{}return e},[]);function en(e,t,n){if(n==null&&(n=""),e!==t){let s=n,r="new";n&&(s+=".",r+=" "+n),z(!1,`private constructor; use ${s}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function nn(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const s=new Uint8Array((e.length-2)/2);let r=2;for(let a=0;a<s.length;a++)s[a]=parseInt(e.substring(r,r+2),16),r+=2;return s}b(!1,"invalid BytesLike value",t||"value",e)}function sn(e,t){return nn(e,t,!1)}const Vt=BigInt(0),Y=BigInt(1),Q=9007199254740991;function bt(e,t){const n=Pt(e,"value"),s=BigInt(lt(t,"width"));if(z(n>>s===Vt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>s-Y){const r=(Y<<s)-Y;return-((~n&r)+Y)}return n}function Ot(e,t){const n=Pt(e,"value"),s=BigInt(lt(t,"bits"));return n&(Y<<s)-Y}function Ct(e,t){switch(typeof e){case"bigint":return e;case"number":return b(Number.isInteger(e),"underflow",t||"value",e),b(e>=-Q&&e<=Q,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(n){b(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}b(!1,"invalid BigNumberish value",t||"value",e)}function Pt(e,t){const n=Ct(e,t);return z(n>=Vt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const $t="0123456789abcdef";function rn(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=$t[n>>4],t+=$t[n&15];return BigInt(t)}return Ct(e)}function lt(e,t){switch(typeof e){case"bigint":return b(e>=-Q&&e<=Q,"overflow",t||"value",e),Number(e);case"number":return b(Number.isInteger(e),"underflow",t||"value",e),b(e>=-Q&&e<=Q,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return lt(BigInt(e),t)}catch(n){b(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}b(!1,"invalid numeric value",t||"value",e)}const an=BigInt(-1),F=BigInt(0),tt=BigInt(1),on=BigInt(5),X={};let et="0000";for(;et.length<80;)et+=et;function Z(e){let t=et;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function st(e,t,n){const s=BigInt(t.width);if(t.signed){const r=tt<<s-tt;z(n==null||e>=-r&&e<r,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e>F?e=bt(Ot(e,s),s):e=-bt(Ot(-e,s),s)}else{const r=tt<<s;z(n==null||e>=0&&e<r,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%r+r)%r&r-tt}return e}function kt(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);b(a,"invalid fixed format","format",e),t=a[1]!=="u",n=parseInt(a[2]),s=parseInt(a[3])}}else if(e){const a=e,i=(d,k,C)=>a[d]==null?C:(b(typeof a[d]===k,"invalid fixed format ("+d+" not "+k+")","format."+d,a[d]),a[d]);t=i("signed","boolean",t),n=i("width","number",n),s=i("decimals","number",s)}b(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),b(s<=80,"invalid FixedNumber decimals (too large)","format.decimals",s);const r=(t?"":"u")+"fixed"+String(n)+"x"+String(s);return{signed:t,width:n,decimals:s,name:r}}function ln(e,t){let n="";e<F&&(n="-",e*=an);let s=e.toString();if(t===0)return n+s;for(;s.length<=t;)s=et+s;const r=s.length-t;for(s=s.substring(0,r)+"."+s.substring(r);s[0]==="0"&&s[1]!==".";)s=s.substring(1);for(;s[s.length-1]==="0"&&s[s.length-2]!==".";)s=s.substring(0,s.length-1);return n+s}var U,p,x,D,q,B,$,rt,vt,at,It,ot,Et,it,Nt;const V=class V{constructor(t,n,s){L(this,D);L(this,B);L(this,rt);L(this,at);L(this,ot);L(this,it);_t(this,"format");L(this,U,void 0);L(this,p,void 0);L(this,x,void 0);_t(this,"_value");en(t,X,"FixedNumber"),ft(this,p,n),ft(this,U,s);const r=ln(n,s.decimals);Mt(this,{format:s.name,_value:r}),ft(this,x,Z(s.decimals))}get signed(){return o(this,U).signed}get width(){return o(this,U).width}get decimals(){return o(this,U).decimals}get value(){return o(this,p)}addUnsafe(t){return h(this,rt,vt).call(this,t)}add(t){return h(this,rt,vt).call(this,t,"add")}subUnsafe(t){return h(this,at,It).call(this,t)}sub(t){return h(this,at,It).call(this,t,"sub")}mulUnsafe(t){return h(this,ot,Et).call(this,t)}mul(t){return h(this,ot,Et).call(this,t,"mul")}mulSignal(t){h(this,D,q).call(this,t);const n=o(this,p)*o(t,p);return z(n%o(this,x)===F,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),h(this,B,$).call(this,n/o(this,x),"mulSignal")}divUnsafe(t){return h(this,it,Nt).call(this,t)}div(t){return h(this,it,Nt).call(this,t,"div")}divSignal(t){z(o(t,p)!==F,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),h(this,D,q).call(this,t);const n=o(this,p)*o(this,x);return z(n%o(t,p)===F,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),h(this,B,$).call(this,n/o(t,p),"divSignal")}cmp(t){let n=this.value,s=t.value;const r=this.decimals-t.decimals;return r>0?s*=Z(r):r<0&&(n*=Z(-r)),n<s?-1:n>s?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=o(this,p);return o(this,p)<F&&(t-=o(this,x)-tt),t=o(this,p)/o(this,x)*o(this,x),h(this,B,$).call(this,t,"floor")}ceiling(){let t=o(this,p);return o(this,p)>F&&(t+=o(this,x)-tt),t=o(this,p)/o(this,x)*o(this,x),h(this,B,$).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const n=this.decimals-t,s=on*Z(n-1);let r=this.value+s;const a=Z(n);return r=r/a*a,st(r,o(this,U),"round"),new V(X,r,o(this,U))}isZero(){return o(this,p)===F}isNegative(){return o(this,p)<F}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return V.fromString(this.toString(),t)}static fromValue(t,n,s){const r=n==null?0:lt(n),a=kt(s);let i=Ct(t,"value");const d=r-a.decimals;if(d>0){const k=Z(d);z(i%k===F,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),i/=k}else d<0&&(i*=Z(-d));return st(i,a,"fromValue"),new V(X,i,a)}static fromString(t,n){const s=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);b(s&&s[2].length+s[3].length>0,"invalid FixedNumber string value","value",t);const r=kt(n);let a=s[2]||"0",i=s[3]||"";for(;i.length<r.decimals;)i+=et;z(i.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),i=i.substring(0,r.decimals);const d=BigInt(s[1]+a+i);return st(d,r,"fromString"),new V(X,d,r)}static fromBytes(t,n){let s=rn(sn(t,"value"));const r=kt(n);return r.signed&&(s=bt(s,r.width)),st(s,r,"fromBytes"),new V(X,s,r)}};U=new WeakMap,p=new WeakMap,x=new WeakMap,D=new WeakSet,q=function(t){b(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},B=new WeakSet,$=function(t,n){return t=st(t,o(this,U),n),new V(X,t,o(this,U))},rt=new WeakSet,vt=function(t,n){return h(this,D,q).call(this,t),h(this,B,$).call(this,o(this,p)+o(t,p),n)},at=new WeakSet,It=function(t,n){return h(this,D,q).call(this,t),h(this,B,$).call(this,o(this,p)-o(t,p),n)},ot=new WeakSet,Et=function(t,n){return h(this,D,q).call(this,t),h(this,B,$).call(this,o(this,p)*o(t,p)/o(this,x),n)},it=new WeakSet,Nt=function(t,n){return z(o(t,p)!==F,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),h(this,D,q).call(this,t),h(this,B,$).call(this,o(this,p)*o(this,x)/o(t,p),n)};let xt=V;const cn=["wei","kwei","mwei","gwei","szabo","finney","ether"];function un(e,t){let n=18;if(typeof t=="string"){const s=cn.indexOf(t);b(s>=0,"invalid unit","unit",t),n=3*s}else t!=null&&(n=lt(t,"unit"));return xt.fromValue(e,n,{decimals:n,width:512}).toString()}function Dt(e){return un(e,18)}const dn=(e,t)=>{let n=0,s=0,r=0,a=0;return e.forEach(i=>{const d=i.from,k=i.to,C=i.isL1Originated;if(d.toLowerCase()===t.toLowerCase()){if(C){n++;const O=Dt(i.value);s+=parseFloat(O)}if(k.toLowerCase()==="0x000000000000000000000000000000000000800A".toLowerCase()){r++;const O=Dt(i.value);a+=parseFloat(O)}}}),{l1Tol2Count:n,l1Tol2Amount:s.toFixed(3),l2Tol1Count:r,l2Tol1Amount:a.toFixed(3)}},fn=async e=>{let t=`https://mp.trustalabs.ai/zksyncera/score?account=${e}&chainId=324`,n,s,r;const a=await P.get(t);return a.data.code==0&&(n=a.data.data.score,s=a.data.data.rank,r=a.data.data.rankValue.total),{score:n,rank:s,total:r}},mn=async e=>{const t=await Me(e),n=await Ve(t),s=Pe(t),r=await qe(e,t),a=await He(e),i=await Ge(e,"ethereum"),d=await We(e,"ethereum"),k=dn(t,e),C=await fn(e);return{fee:n,amount:s,activity:r,zkSyncEra:a,ethereum:{balance:i,tx:d},bridge:k,rank:C}};const pn={style:{color:"blueviolet"}},hn={style:{color:"blueviolet"}},gn={style:{padding:"8px"}},_n={style:{display:"flex","justify-content":"flex-end"}},yn={__name:"ZkSyncEra",setup(e){let t=K(!1),n=K("");async function s(u){r(u,{key:u,address:u,status:"loading"});try{let m=await mn(u);r(u,{...m,key:u,address:u,status:"success"})}catch(m){console.log(m),r(u,{key:u,address:u,status:"fail"})}}function r(u,m){let g=w.value.map(v=>v.address).indexOf(u);w.value[g]=m}const a=/^0x[a-fA-F0-9]{40}$/;function i(){if(n.value.trim()!=""){let u=n.value.split(`
`);const m=w.value.map(g=>g.address);for(let g of u)a.test(g.trim())&&m.indexOf(g)==-1&&(w.value.push({key:g,address:g}),s(g))}n.value="",t.value=!1}const d=K({selectedRowKeys:[]}),k=Bt(()=>({selectedRowKeys:d.value.selectedRowKeys,onChange:(u,m)=>{d.value.selectedRowKeys=u}}));function C(){if(d.value.selectedRowKeys.length>0){for(let u of d.value.selectedRowKeys)s(u);d.value.selectedRowKeys=[]}}function O(){if(d.value.selectedRowKeys.length>0){for(let u of d.value.selectedRowKeys){let m=w.value.map(g=>g.address).indexOf(u);m!=-1&&w.value.splice(m,1)}d.value.selectedRowKeys=[]}}const w=K([]),mt=Bt(()=>w.value.map(m=>m.fee?parseFloat(m.fee):0).reduce((m,g)=>m+g,0).toFixed(2)),ct={def:"默认",g1:"组1",g2:"组2"};let M=K();ue(w,()=>{if(M.value){const u=`zksync-info-${M.value}`;localStorage.setItem(u,JSON.stringify(w.value))}},{deep:!0});function pt({key:u}){M.value=u;const m=`zksync-info-${u}`;let g=localStorage.getItem(m);w.value=g?JSON.parse(g):[]}const Tt=K(null),jt=K([{title:"#",dataIndex:"no",align:"center",width:"50px"},{title:"地址",dataIndex:"address",align:"center",width:"150px",customFilterDropdown:!0,onFilter:(u,m)=>m.address.toString().toLowerCase().includes(u.toLowerCase()),onFilterDropdownOpenChange:u=>{u&&setTimeout(()=>{Tt.value.focus()},100)}},{title:"ETH",dataIndex:["zkSyncEra","balance"],key:"zkSyncBalance",align:"center",className:"zks_era"},{title:"USDC",dataIndex:["zkSyncEra","usdc"],align:"center",className:"zks_era"},{title:"TX",dataIndex:["zkSyncEra","tx"],align:"center",className:"zks_era",width:"50px",sorter:(u,m)=>{var g,v;return((g=u==null?void 0:u.zkSyncEra)==null?void 0:g.tx)-((v=m==null?void 0:m.zkSyncEra)==null?void 0:v.tx)}},{title:"最后交易",dataIndex:["activity","lastTx"],align:"center",className:"zks_era"},{title:"TX(L1->L2)",dataIndex:["bridge","l1Tol2Count"],key:"bridgeL1ToL2Count",align:"center",className:"zks_era",width:"50px"},{title:"金额E(L1->L2)",dataIndex:["bridge","l1Tol2Amount"],align:"center",className:"zks_era"},{title:"日",dataIndex:["activity","day"],align:"center",className:"zks_era",width:"50px"},{title:"周",dataIndex:["activity","week"],align:"center",className:"zks_era",width:"50px"},{title:"月",dataIndex:["activity","month"],align:"center",className:"zks_era",width:"50px"},{title:"合约",dataIndex:["activity","contract"],align:"center",className:"zks_era",width:"50px"},{title:"金额(U)",dataIndex:"amount",align:"center",className:"zks_era"},{title:"Fee(U)",dataIndex:"fee",align:"center",className:"zks_era"},{title:"评分",dataIndex:"score",align:"center",className:"zks_era"},{title:"排名",dataIndex:"rank",align:"center",className:"zks_era"},{title:"状态",dataIndex:"result",align:"center",width:"50px"},{title:"操作",dataIndex:"action",align:"center"}]);return(u,m)=>{const g=he,v=ge,H=_e,At=ye,ut=de,Kt=Re,Zt=Ae,qt=we,Ht=ke,Jt=be,Gt=xe,Xt=fe,zt=ve,Wt=ze,Yt=Fe,Qt=Ie,te=Ee,ee=Lt,ne=Lt,ht=Ne,se=Se,re=Ce,ae=Te;return y(),I(E,null,[l(ut,null,{default:c(()=>[l(H,{span:22,offset:1,class:"tool-bar"},{default:c(()=>[l(ut,{gutter:16},{default:c(()=>[l(H,null,{default:c(()=>[l(v,{type:"primary",onClick:C},{icon:c(()=>[l(g)]),default:c(()=>[N(" 刷新 ")]),_:1})]),_:1}),l(H,null,{default:c(()=>[l(v,{type:"primary",danger:"",onClick:O},{icon:c(()=>[l(At)]),default:c(()=>[N(" 删除 ")]),_:1})]),_:1})]),_:1}),l(ut,{gutter:16},{default:c(()=>[l(H,null,{default:c(()=>[l(Jt,{type:"primary",class:"ant-btn-primary"},{overlay:c(()=>[l(qt,{onClick:pt},{default:c(()=>[(y(),I(E,null,me(ct,(_,f)=>l(Zt,{key:f},{default:c(()=>[l(Kt),N(" "+S(_),1)]),_:2},1024)),64))]),_:1})]),default:c(()=>[l(v,null,{default:c(()=>[N(S(R(M)?"当前数据组: "+ct[R(M)]:"加载本地数据")+" ",1),l(Ht)]),_:1})]),_:1})]),_:1}),l(H,null,{default:c(()=>[l(v,{type:"primary",onClick:m[0]||(m[0]=_=>wt(t)?t.value=!0:t=!0),disabled:!R(M)},{default:c(()=>[N(" 添加地址 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),l(Xt,{open:R(t),"onUpdate:open":m[2]||(m[2]=_=>wt(t)?t.value=_:t=_),title:"地址",style:{top:"100px"},"ok-text":"确定","cancel-text":"取消",onOk:i},{default:c(()=>[l(Gt,{value:R(n),"onUpdate:value":m[1]||(m[1]=_=>wt(n)?n.value=_:n=_),placeholder:"每行一个地址",rows:6},null,8,["value"])]),_:1},8,["open"]),l(ut,{style:{"margin-top":"10px"}},{default:c(()=>[l(H,{span:22,offset:1},{default:c(()=>[l(ae,{columns:R(jt),"data-source":R(w),pagination:!1,bordered:"","row-selection":k.value,size:"small",sticky:""},{bodyCell:c(({column:_,record:f,index:nt})=>{var dt,gt,J,Ft,Ut;return[_.dataIndex=="no"?(y(),I(E,{key:0},[N(S(nt+1),1)],64)):T("",!0),_.key=="zkSyncBalance"?(y(),I(E,{key:1},[((dt=f==null?void 0:f.zkSyncEra)==null?void 0:dt.balance)>=0?(y(),G(zt,{key:0,title:"ethereum",trigger:"hover"},{content:c(()=>[A("div",null,[A("span",null,"金额(E)   "+S(f.ethereum.balance),1)]),A("div",null,[A("span",null,"TX   "+S(f.ethereum.tx),1)])]),default:c(()=>{var j;return[A("span",pn,S((j=f==null?void 0:f.zkSyncEra)==null?void 0:j.balance),1)]}),_:2},1024)):T("",!0)],64)):T("",!0),_.key=="bridgeL1ToL2Count"?(y(),I(E,{key:2},[((gt=f==null?void 0:f.bridge)==null?void 0:gt.l1Tol2Count)>=0?(y(),G(zt,{key:0,title:"L2->L1",trigger:"hover"},{content:c(()=>[A("div",null,[A("span",null,"金额(E)  "+S(f.bridge.l2Tol1Amount),1)]),A("div",null,[A("span",null,"TX  "+S(f.bridge.l2Tol1Count),1)])]),default:c(()=>{var j;return[A("span",hn,S((j=f==null?void 0:f.bridge)==null?void 0:j.l1Tol2Count),1)]}),_:2},1024)):T("",!0)],64)):T("",!0),_.dataIndex=="address"?(y(),I(E,{key:3},[N(S(f.address.toLowerCase().substring(0,4)+"****"+f.address.toLowerCase().substring(38,42)),1)],64)):T("",!0),_.dataIndex=="result"?(y(),I(E,{key:4},[f.status=="success"?(y(),G(Wt,{key:0,style:{color:"green"}})):f.status=="fail"?(y(),G(Yt,{key:1,style:{color:"red"}})):(y(),G(Qt,{key:R(w).length,style:{color:"#1677ff"}}))],64)):T("",!0),_.dataIndex=="action"?(y(),I(E,{key:5},[l(v,{shape:"circle",size:"small",style:{"margin-right":"5px"},onClick:j=>s(f.address)},{icon:c(()=>[l(g)]),_:2},1032,["onClick"]),l(v,{shape:"circle",size:"small",onClick:j=>R(w).splice(nt,1)},{icon:c(()=>[l(At)]),_:2},1032,["onClick"])],64)):T("",!0),_.dataIndex=="score"?(y(),I(E,{key:6},[N(S(f.rank?(J=f.rank)!=null&&J.score?f.rank.score.toFixed(2):"无":""),1)],64)):T("",!0),_.dataIndex=="rank"?(y(),I(E,{key:7},[f.rank?(y(),I(E,{key:0},[(Ft=f.rank)!=null&&Ft.rank&&((Ut=f.rank)!=null&&Ut.total)?(y(),I(E,{key:0},[N(S(f.rank.rank+"("+(f.rank.rank/f.rank.total).toFixed(2)*100+"%)"),1)],64)):(y(),I(E,{key:1},[N("无")],64))],64)):T("",!0)],64)):T("",!0)]}),customFilterDropdown:c(({setSelectedKeys:_,selectedKeys:f,confirm:nt,clearFilters:dt,column:gt})=>[A("div",gn,[l(te,{ref_key:"searchInput",ref:Tt,placeholder:"输入查询地址",value:f[0],style:{width:"400px","margin-bottom":"8px",display:"block"},onChange:J=>_(J.target.value?[J.target.value]:[]),onPressEnter:nt},null,8,["value","onChange","onPressEnter"]),A("div",_n,[l(v,{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:nt},{icon:c(()=>[l(ee)]),default:c(()=>[N(" 查询 ")]),_:2},1032,["onClick"]),l(v,{size:"small",style:{width:"90px"},onClick:J=>dt({confirm:!0})},{default:c(()=>[N(" 重置 ")]),_:2},1032,["onClick"])])])]),customFilterIcon:c(({filtered:_})=>[l(ne,{style:pe({color:_?"#108ee9":void 0})},null,8,["style"])]),summary:c(()=>[l(re,{fixed:""},{default:c(()=>[R(w).length>0?(y(),G(se,{key:0},{default:c(()=>[l(ht),l(ht,{"col-span":13}),l(ht,{style:{"text-align":"center"}},{default:c(()=>[N(S(mt.value),1)]),_:1})]),_:1})):T("",!0)]),_:1})]),_:1},8,["columns","data-source","row-selection"])]),_:1})]),_:1})],64)}}},xn=ce(yn,[["__scopeId","data-v-c7fa08d9"]]);export{xn as default};
